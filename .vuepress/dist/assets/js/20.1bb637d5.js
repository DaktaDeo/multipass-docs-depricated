(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{372:function(e,a,t){"use strict";t.r(a);var s=t(44),r=Object(s.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"cli"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cli"}},[e._v("#")]),e._v(" CLI")]),e._v(" "),t("p"),t("div",{staticClass:"table-of-contents"},[t("ul",[t("li",[t("a",{attrs:{href:"#overview"}},[e._v("Overview")])]),t("li",[t("a",{attrs:{href:"#installation"}},[e._v("Installation")])]),t("li",[t("a",{attrs:{href:"#get-started"}},[e._v("Get Started")])]),t("li",[t("a",{attrs:{href:"#authenticating"}},[e._v("Authenticating")])]),t("li",[t("a",{attrs:{href:"#current-server-switching-servers"}},[e._v("Current Server & Switching Servers")])]),t("li",[t("a",{attrs:{href:"#ssh-key-authentication"}},[e._v("SSH Key Authentication")])]),t("li",[t("a",{attrs:{href:"#sites"}},[e._v("Sites")]),t("ul",[t("li",[t("a",{attrs:{href:"#initiating-deployments"}},[e._v("Initiating Deployments")])]),t("li",[t("a",{attrs:{href:"#updating-environment-variables"}},[e._v("Updating Environment Variables")])]),t("li",[t("a",{attrs:{href:"#viewing-application-logs"}},[e._v("Viewing Application Logs")])]),t("li",[t("a",{attrs:{href:"#reviewing-deployment-output-logs"}},[e._v("Reviewing Deployment Output / Logs")])]),t("li",[t("a",{attrs:{href:"#running-commands"}},[e._v("Running Commands")])]),t("li",[t("a",{attrs:{href:"#tinker"}},[e._v("Tinker")])])])]),t("li",[t("a",{attrs:{href:"#resources"}},[e._v("Resources")]),t("ul",[t("li",[t("a",{attrs:{href:"#checking-resource-status"}},[e._v("Checking Resource Status")])]),t("li",[t("a",{attrs:{href:"#viewing-resources-logs"}},[e._v("Viewing Resources Logs")])]),t("li",[t("a",{attrs:{href:"#restarting-resources"}},[e._v("Restarting Resources")])]),t("li",[t("a",{attrs:{href:"#connecting-to-resources-locally"}},[e._v("Connecting To Resources Locally")])])])])])]),t("p"),e._v(" "),t("h2",{attrs:{id:"overview"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#overview"}},[e._v("#")]),e._v(" Overview")]),e._v(" "),t("p",[e._v("Forge provides a command-line tool that you may use to manage your Forge servers, sites, and resources from the command-line.")]),e._v(" "),t("h2",{attrs:{id:"installation"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#installation"}},[e._v("#")]),e._v(" Installation")]),e._v(" "),t("blockquote",[t("p",[t("strong",[e._v("Requires "),t("a",{attrs:{href:"https://php.net/releases/",target:"_self",rel:"false"}},[e._v("PHP 8.0+")])])])]),e._v(" "),t("p",[e._v("You may install the "),t("strong",[t("a",{attrs:{href:"https://github.com/laravel/forge-cli",target:"_self",rel:"false"}},[e._v("Forge CLI")])]),e._v(" as a global "),t("a",{attrs:{href:"https://getcomposer.org",target:"_self",rel:"false"}},[e._v("Composer")]),e._v(" dependency:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("composer")]),e._v(" global require laravel/forge-cli\n")])])]),t("h2",{attrs:{id:"get-started"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#get-started"}},[e._v("#")]),e._v(" Get Started")]),e._v(" "),t("p",[e._v("To view a list of all available Forge CLI commands and view the current version of your installation, you may run the "),t("code",[e._v("forge")]),e._v(" command from the command-line:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("forge\n")])])]),t("h2",{attrs:{id:"authenticating"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#authenticating"}},[e._v("#")]),e._v(" Authenticating")]),e._v(" "),t("p",[e._v("You will need to generate an API token to interact with the Forge CLI. Tokens are used to authenticate your account without providing personal details. API tokens can be created from "),t("a",{attrs:{href:"https://forge.laravel.com/user-profile/api",target:"_self",rel:"false"}},[e._v("Forge's API dashboard")]),e._v(".")]),e._v(" "),t("p",[e._v("After you have generated an API token, you should authenticate with your Forge account using the login command:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("forge login\nforge login --token"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("your-api-token\n")])])]),t("p",[e._v("Alternatively, if you plan to authenticate with Forge from your CI platform, you may set a "),t("code",[e._v("FORGE_API_TOKEN")]),e._v(" environment variable in your CI build environment.")]),e._v(" "),t("h2",{attrs:{id:"current-server-switching-servers"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#current-server-switching-servers"}},[e._v("#")]),e._v(" Current Server & Switching Servers")]),e._v(" "),t("p",[e._v("When managing Forge servers, sites, and resources via the CLI, you will need to be aware of your currently active server. You may view your current server using the "),t("code",[e._v("server:current")]),e._v(" command. Typically, most of the commands you execute using the Forge CLI will be executed against the active server.")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("forge server:current\n")])])]),t("p",[e._v("Of course, you may switch your active server at any time. To change your active server, use the "),t("code",[e._v("server:switch")]),e._v(" command:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("forge server:switch\nforge server:switch staging\n")])])]),t("p",[e._v("To view a list of all available servers, you may use the "),t("code",[e._v("server:list")]),e._v(" command:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("forge server:list\n")])])]),t("h2",{attrs:{id:"ssh-key-authentication"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ssh-key-authentication"}},[e._v("#")]),e._v(" SSH Key Authentication")]),e._v(" "),t("p",[e._v("Before performing any tasks using the Forge CLI, you should ensure that you have added an SSH key for the "),t("code",[e._v("forge")]),e._v(" user to your servers so that you can securely connect to them. You may have already done this via the Forge UI. You may test that SSH is configured correctly by running the "),t("code",[e._v("ssh:test")]),e._v(" command:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("forge ssh:test\n")])])]),t("p",[e._v("To configure SSH key authentication, you may use the "),t("code",[e._v("ssh:configure")]),e._v(" command. The "),t("code",[e._v("ssh:configure")]),e._v(" command accepts a "),t("code",[e._v("--key")]),e._v(" option which instructs the CLI which public key to add to the server. In addition, you may provide a "),t("code",[e._v("--name")]),e._v(" option to specify the name that should be assigned to the key:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("forge ssh:configure\n\nforge ssh:configure --key"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/path/to/public/key.pub --name"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("sallys-macbook\n")])])]),t("p",[e._v("After you have configured SSH key authentication, you may use the "),t("code",[e._v("ssh")]),e._v(" command to create a secure connection to your server:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("forge "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("ssh")]),e._v("\n\nforge "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("ssh")]),e._v(" server-name\n")])])]),t("h2",{attrs:{id:"sites"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sites"}},[e._v("#")]),e._v(" Sites")]),e._v(" "),t("p",[e._v("To view the list of all available sites, you may use the "),t("code",[e._v("site:list")]),e._v(" command:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("forge site:list\n")])])]),t("h3",{attrs:{id:"initiating-deployments"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#initiating-deployments"}},[e._v("#")]),e._v(" Initiating Deployments")]),e._v(" "),t("p",[e._v("One of the primary features of Laravel Forge is deployments. Deployments may be initiated via the Forge CLI using the "),t("code",[e._v("deploy")]),e._v(" command:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("forge deploy\n\nforge deploy example.com\n")])])]),t("h3",{attrs:{id:"updating-environment-variables"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#updating-environment-variables"}},[e._v("#")]),e._v(" Updating Environment Variables")]),e._v(" "),t("p",[e._v("You may update a site's environment variables using the "),t("code",[e._v("env:pull")]),e._v(" and "),t("code",[e._v("env:push")]),e._v(" commands. The "),t("code",[e._v("env:pull")]),e._v(" command may be used to pull down an environment file for a given site:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("forge env:pull\nforge env:pull pestphp.com\nforge env:pull pestphp.com .env\n")])])]),t("p",[e._v("Once this command has been executed the site's environment file will be placed in your current directory. To update the site's environment variables, simply open and edit this file. When you are done editing the variables, use the "),t("code",[e._v("env:push")]),e._v(" command to push the variables back to your site:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("forge env:push\nforge env:push pestphp.com\nforge env:push pestphp.com .env\n")])])]),t("p",[e._v('If your site is utilizing Laravel\'s "configuration caching" feature or has queue workers, the new variables will not be utilized until the site is deployed again.')]),e._v(" "),t("h3",{attrs:{id:"viewing-application-logs"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#viewing-application-logs"}},[e._v("#")]),e._v(" Viewing Application Logs")]),e._v(" "),t("p",[e._v("You may also view a site's logs directly from the command-line. To do so, use the "),t("code",[e._v("site:logs")]),e._v(" command:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("forge site:logs\nforge site:logs --follow              "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# View logs in realtime")]),e._v("\n\nforge site:logs example.com\nforge site:logs example.com --follow  "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# View logs in realtime")]),e._v("\n")])])]),t("h3",{attrs:{id:"reviewing-deployment-output-logs"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#reviewing-deployment-output-logs"}},[e._v("#")]),e._v(" Reviewing Deployment Output / Logs")]),e._v(" "),t("p",[e._v("When a deployment fails, you may review the output / logs via the Forge UI's deployment history screen. You may also review the output at any time on the command-line using the "),t("code",[e._v("deploy:logs")]),e._v(" command. If the "),t("code",[e._v("deploy:logs")]),e._v(" command is called with no additional arguments, the logs for the latest deployment will be displayed. Or, you may pass the deployment ID to the "),t("code",[e._v("deploy:logs")]),e._v(" command to display the logs for a particular deployment:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("forge deploy:logs\n\nforge deploy:logs 12345\n")])])]),t("h3",{attrs:{id:"running-commands"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#running-commands"}},[e._v("#")]),e._v(" Running Commands")]),e._v(" "),t("p",[e._v("Sometimes you may wish to run an arbitrary shell command against a site. The "),t("code",[e._v("command")]),e._v(" command will prompt you for the command you would like to run. The command will be run relative to the site's root directory.")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('forge command\n\nforge command example.com\n\nforge command example.com --command="php artisan inspire"\n')])])]),t("h3",{attrs:{id:"tinker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tinker"}},[e._v("#")]),e._v(" Tinker")]),e._v(" "),t("p",[e._v('As you may know, all Laravel applications include "Tinker" by default. To enter a Tinker environment on a remote server using the Forge CLI, run the '),t("code",[e._v("tinker")]),e._v(" command:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("forge tinker\n\nforge tinker example.com\n")])])]),t("h2",{attrs:{id:"resources"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#resources"}},[e._v("#")]),e._v(" Resources")]),e._v(" "),t("p",[e._v("Forge provisions servers with a variety of resources and additional software, such as Nginx, MySQL, etc. You may use the Forge CLI to perform common actions on those resources.")]),e._v(" "),t("h3",{attrs:{id:"checking-resource-status"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#checking-resource-status"}},[e._v("#")]),e._v(" Checking Resource Status")]),e._v(" "),t("p",[e._v("To check the current status of a resource, you may use the "),t("code",[e._v("{resource}:status")]),e._v(" command:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("forge daemon:status\nforge database:status\n\nforge nginx:status\n\nforge php:status      "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# View PHP logs (default PHP version)")]),e._v("\nforge php:status "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("8.1")]),e._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# View PHP 8.1 logs")]),e._v("\n")])])]),t("h3",{attrs:{id:"viewing-resources-logs"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#viewing-resources-logs"}},[e._v("#")]),e._v(" Viewing Resources Logs")]),e._v(" "),t("p",[e._v("You may also view logs directly from the command-line. To do so, use the "),t("code",[e._v("{resource}:logs")]),e._v(" command:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("forge daemon:logs\nforge daemon:logs --follow  "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# View logs in realtime")]),e._v("\n\nforge database:logs\n\nforge nginx:logs         "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# View error logs")]),e._v("\nforge nginx:logs access  "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# View access logs")]),e._v("\n\nforge php:logs           "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# View PHP logs (default PHP version)")]),e._v("\nforge php:logs "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("8.1")]),e._v("       "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# View PHP 8.1 logs")]),e._v("\n")])])]),t("h3",{attrs:{id:"restarting-resources"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#restarting-resources"}},[e._v("#")]),e._v(" Restarting Resources")]),e._v(" "),t("p",[e._v("Resources may be restarted using the "),t("code",[e._v("{resource}:restart")]),e._v(" command:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("forge daemon:restart\n\nforge database:restart\n\nforge nginx:restart\n\nforge php:restart      "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Restarts PHP (default PHP version)")]),e._v("\nforge php:restart "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("8.1")]),e._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Restarts PHP 8.1")]),e._v("\n")])])]),t("h3",{attrs:{id:"connecting-to-resources-locally"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#connecting-to-resources-locally"}},[e._v("#")]),e._v(" Connecting To Resources Locally")]),e._v(" "),t("p",[e._v("You may use the "),t("code",[e._v("{resource}:shell")]),e._v(" command to quickly access a command line shell that lets you interact with a given resource:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("forge database:shell\nforge database:shell my-database-name\nforge database:shell my-database-name --user"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("my-user\n")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);